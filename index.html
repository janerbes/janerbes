<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Jan's Webseite</title> 
  <style>
    /* ==== Dodger Minigame Style ==== */
    #game-container {
      position: relative;
      width: 400px;
      height: 500px;
      margin: 30px auto;
      background: linear-gradient(180deg, #111, #222);
      overflow: hidden;
      border: 3px solid #00ffcc;
      border-radius: 12px;
      box-shadow: 0 0 30px #00ffcc44;
    }

    #player {
      position: absolute;
      width: 40px;
      height: 40px;
      background: #00ffcc;
      bottom: 20px;
      left: 180px;
      border-radius: 6px;
      transition: background 0.2s;
    }

    .enemy {
      position: absolute;
      width: 40px;
      height: 40px;
      background: #ff0066;
      top: 0;
      border-radius: 6px;
    }

    #scoreboard {
      margin-top: 10px;
      font-size: 18px;
    }

    #start-btn {
      margin-top: 10px;
      padding: 10px 20px;
      background: #00ffcc;
      color: #000;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.2s;
    }

    #start-btn:hover {
      background: #00cc99;
    }

    #game-over {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 28px;
      color: #fff;
      text-shadow: 0 0 10px #ff0066;
      display: none;
    }
  </style>
</head>
<body>
<header>
  <h1 style="text-align: left;">
    <u><strong>Jan's supertolle coole Webseite</strong></u> :^)
  </h1>
  <nav>
    <button type="button" onclick="showPage('home')">Start</button>
    <button type="button" onclick="showPage('bilder')">Bilder</button>
    <button type="button" onclick="showPage('kontakt')">Kontakt</button>
    <button type="button" onclick="showPage('minigame')">🎮 Minigame</button>
  </nav>
  <hr>
</header>

<main>
  <!-- Startseite -->
  <section id="home">
    <h2>Startseite</h2>
    <p>Willkommen auf meiner Webseite! Nutze die Navigation, um die Seiten zu wechseln.</p>
    <img src="images/jan.jpg" alt="Jan" width="100">
    <p>Das bin ich :^)!</p>

    <!-- Hintergrundmusik Startseite -->
    <audio id="bgmHome" autoplay loop muted>
      <source src="musik/start.mp3" type="audio/mpeg">
    </audio>
    <div>
      <button onclick="playMusic('bgmHome')">🎵 Musik einschalten</button>
      <button onclick="pauseMusic('bgmHome')">🔇 Musik ausschalten</button>
      <label>Lautstärke:
        <input type="range" min="0" max="100" value="50" onchange="setVolume('bgmHome', this.value)">
      </label>
    </div>
  </section>

  <!-- Bilderseite -->
  <section id="bilder" hidden>
    <h2>Bilder</h2>
    <p>Hier sind meine festen Bilder:</p>
    <div id="gallery">
      <img src="images/bild1.jpg" alt="Bild 1" width="300">
      <img src="images/bild2.jpg" alt="Bild 2" width="300">
      <img src="images/bild3.jpg" alt="Bild 3" width="300">
    </div>

    <!-- Hintergrundmusik Bilderseite -->
    <audio id="bgmBilder" autoplay loop muted>
      <source src="musik/bilder.mp3" type="audio/mpeg">
    </audio>
    <div>
      <button onclick="playMusic('bgmBilder')">🎵 Musik einschalten</button>
      <button onclick="pauseMusic('bgmBilder')">🔇 Musik ausschalten</button>
      <label>Lautstärke:
        <input type="range" min="0" max="100" value="50" onchange="setVolume('bgmBilder', this.value)">
      </label>
    </div>
  </section>

  <!-- Kontaktseite -->
  <section id="kontakt" hidden>
    <h2>Kontakt</h2>
    <ul>
      <li><a href="mailto:deine.email@example.com">E-Mail schreiben</a></li>
    </ul>
  </section>

  <!-- 🎮 Minigame-Seite -->
  <section id="minigame" hidden>
    <h2>🎮 Dodger – Mini Survival Game</h2>
    <p>Steuere das Quadrat mit <strong>WASD</strong> oder <strong>Pfeiltasten</strong> und weiche den fallenden Blöcken aus!</p>

    <div id="game-container">
      <div id="player"></div>
      <div id="game-over">💀 GAME OVER 💀</div>
    </div>

    <div id="scoreboard">🏆 Score: <span id="score">0</span></div>
    <button id="start-btn">Start Game</button>
  </section>
</main>

<footer>
  <hr>
  <p>&copy; 2025 Jan's Webseite</p>
</footer>

<script>
  // Standardseite beim Laden
  document.addEventListener('DOMContentLoaded', function() {
    showPage('home');
  });

  // Navigation zwischen den Seiten
  function showPage(id) {
    var sections = document.querySelectorAll('main > section');
    sections.forEach(function(sec) {
      if (sec.id === id) {
        sec.removeAttribute('hidden');
      } else {
        sec.setAttribute('hidden', '');
      }
    });
  }

  // Musik starten (unmuten)
  function playMusic(id) {
    var audio = document.getElementById(id);
    if (audio) {
      audio.muted = false;
      audio.play();
    }
  }

  // Musik pausieren
  function pauseMusic(id) {
    var audio = document.getElementById(id);
    if (audio) {
      audio.pause();
    }
  }

  // Lautstärke einstellen (0–100 → 0.0–1.0)
  function setVolume(id, value) {
    var audio = document.getElementById(id);
    if (audio) {
      audio.volume = value / 100;
    }
  }

  /* ==== Dodger Game Script ==== */
  const container = document.getElementById("game-container");
  const player = document.getElementById("player");
  const scoreDisplay = document.getElementById("score");
  const startBtn = document.getElementById("start-btn");
  const gameOverText = document.getElementById("game-over");

  let gameInterval, enemyInterval, scoreInterval;
  let score = 0;
  let playerX = 180;
  const playerSpeed = 10;
  const enemies = [];

  function startGame() {
    score = 0;
    scoreDisplay.textContent = score;
    playerX = 180;
    player.style.left = playerX + "px";
    gameOverText.style.display = "none";

    enemies.forEach((e) => e.remove());
    enemies.length = 0;

    gameInterval = setInterval(updateGame, 20);
    enemyInterval = setInterval(spawnEnemy, 700);
    scoreInterval = setInterval(() => {
      score++;
      scoreDisplay.textContent = score;
    }, 200);
  }

  function endGame() {
    clearInterval(gameInterval);
    clearInterval(enemyInterval);
    clearInterval(scoreInterval);
    gameOverText.style.display = "block";
  }

  function spawnEnemy() {
    const enemy = document.createElement("div");
    enemy.classList.add("enemy");
    enemy.style.left = Math.random() * (container.clientWidth - 40) + "px";
    container.appendChild(enemy);
    enemies.push(enemy);
  }

  function updateGame() {
    enemies.forEach((enemy, index) => {
      const currentTop = parseInt(enemy.style.top || "0");
      enemy.style.top = currentTop + 5 + "px";

      if (currentTop > container.clientHeight) {
        enemy.remove();
        enemies.splice(index, 1);
      }

      const playerRect = player.getBoundingClientRect();
      const enemyRect = enemy.getBoundingClientRect();

      if (
        playerRect.left < enemyRect.right &&
        playerRect.right > enemyRect.left &&
        playerRect.top < enemyRect.bottom &&
        playerRect.bottom > enemyRect.top
      ) {
        endGame();
      }
    });
  }

  document.addEventListener("keydown", (e) => {
    if (e.key === "ArrowLeft" || e.key === "a") {
      playerX -= playerSpeed;
    } else if (e.key === "ArrowRight" || e.key === "d") {
      playerX += playerSpeed;
    }
    playerX = Math.max(0, Math.min(container.clientWidth - 40, playerX));
    player.style.left = playerX + "px";
  });

  startBtn.addEventListener("click", () => {
    endGame();
    startGame();
  });
</script>
</body>
</html>
